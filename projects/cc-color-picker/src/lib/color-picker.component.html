<div [ngStyle]="style" [class]="styleClass"
  [ngClass]="{'app-colorpicker':true,'app-colorpicker-overlay':!inline,'app-colorpicker-dragging':colorDragging||hueDragging}">
  <input #input type="text" *ngIf="!inline" class="app-colorpicker-preview app-inputtext app-state-default app-corner-all"
    readonly="readonly" [ngClass]="{'app-state-disabled': disabled}" (focus)="onInputFocus()" (click)="onInputClick()"
    (keydown)="onInputKeydown($event)" [attr.id]="inputId" [attr.tabindex]="tabindex" [disabled]="disabled"
    [style.backgroundColor]="inputBgColor">
  <div #panel
    [ngClass]="{'app-colorpicker-panel app-corner-all': true, 'app-colorpicker-overlay-panel app-shadow':!inline, 'app-state-disabled': disabled}"
    (click)="onPanelClick()" [@panelState]="inline ? 'visible' : (panelVisible ? 'visible' : 'hidden')"
    [style.display]="inline ? 'block' : (panelVisible ? 'block' : 'none')">
    <div class="app-colorpicker-content">
      <div #colorSelector class="app-colorpicker-color-selector" (mousedown)="onColorMousedown($event)">
        <div class="app-colorpicker-color">
          <div #colorHandle class="app-colorpicker-color-handle"></div>
        </div>
      </div>
      <div #hue class="app-colorpicker-hue" (mousedown)="onHueMousedown($event)">
        <div #hueHandle class="app-colorpicker-hue-handle"></div>
      </div>
    </div>
  </div>
</div>